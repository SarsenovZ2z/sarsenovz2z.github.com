<html>
    <meta charset="utf-8"/>
    <title></title>
    </head>
        <style>
            * {
                padding: 0;
                margin: 0;
            }
            html {
                min-width: 100%;
                min-height: 100%;
            }
            #wrapper {
                position: relative;
                top: 50%;
                left: 50%;
                width: 100%;
                height: 100%;
                background-color: transparent;
                transform: translate(-50%, -50%);
            }
            canvas {
                position: relative;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                z-index: -1;
            }
            img {
                display: none;
            }

        </style>
    </head>
    <body>
        <img src = "https://images.alphacoders.com/898/thumb-1920-898735.jpg"/>
        <div id="wrapper">
            <canvas class="particles"></canvas>
        </div>
        <script>
            var canvas;
            var ctx;
            var particles;
            var pRadius = 2;
            var pSpeed = 5;
            var pOpacity = 0.015;
            var it = 0;
            var itSpeed = 7;
            var leftOff;
            var topOff;

            window.addEventListener("DOMContentLoaded", function() {
                init();
            });

            function init() {
                canvas = document.getElementsByClassName("particles")[0];
                canvas.width = document.getElementById("wrapper").offsetWidth;
                canvas.height = document.getElementById("wrapper").offsetHeight;
                leftOff = (canvas.width - 100)/2;
                topOff = (canvas.height - 60)/2;
                ctx = canvas.getContext("2d");
                createParticles();
                canvas.addEventListener("click", function() {
                    window.requestAnimationFrame(animate);
                });
            }

            function createParticles() {
                it = leftOff;
                particles = [];
                for (var i=pRadius+leftOff;i<=canvas.width -leftOff - pRadius;i+=(2*pRadius)) {
                    for (var j=pRadius+topOff;j<=canvas.height - topOff - pRadius;j+=(2*pRadius)) {
                        var t = new Particle(i, j, Rand()*pSpeed, Rand()*pSpeed);
                        t.draw();
                        particles.push(t);
                    }
                }
                fillText();
            }

            function fillText() {
                ctx.save();
                ctx.fillStyle = "black";
                ctx.fillRect(it, topOff, canvas.width-leftOff-it, canvas.height-2*topOff);
                ctx.restore();
                ctx.save();
                ctx.fillStyle = "white";
                ctx.font="20px Arial";
                ctx.textAlign="center";
                ctx.textBaseline="middle";
                ctx.fillText("Hello ; )", canvas.width/2, canvas.height/2);
                ctx.restore();
            }

            function animate() {
                var cnt = 0;
                ctx.save();
                ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // ctx.clearRect(0, 0, canvas.width, canvas.height);

                ctx.restore();
                if (canvas.width-leftOff-it>0) {
                    fillText();
                }
                particles.forEach(function(particle, index) {
                    if (particle.opacity>0) {
                        if (particle.coords.x+pRadius<=it) {
                            particle.start = true;
                            particle.draw();
                        }
                        cnt++;
                    }
                });

                it+=itSpeed;
                itSpeed-=0.01*Rand();

                if (cnt) {
                    window.requestAnimationFrame(animate);
                }
                else {
                    ctx.save();
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.restore();
                    createParticles();
                }
            }


            function Particle(xCoord = 0, yCoord = 0, vxVel = 0, vyVel = 0, op = 1) {
                this.coords = {x: xCoord, y: yCoord};
                this.speed = {vx: vxVel, vy: vyVel};
                this.radius = pRadius;
                this.opacity = op;
                this.start = false;
                this.update = function() {
                    this.coords.x+=this.speed.vx;
                    this.coords.y+=this.speed.vy;
                    this.speed.vx+=0.1*Rand();
                    this.speed.vy+=Math.abs(0.5*Rand());
                    this.opacity-=pOpacity;
                };
                this.draw = function() {
                    if (this.start)
                        this.update();
                    ctx.save();
                    ctx.beginPath();
                    ctx.fillStyle = "rgba(0, 0, 0, "+this.opacity+")";
                    ctx.arc(this.coords.x, this.coords.y, this.radius, 0, 2*Math.PI);
                    ctx.fill();
                    ctx.restore();
                };
            }

            function Rand() {
                return (Math.random()*2>=1?1:-1)*Math.random();
            }

        </script>
    </body>
</html>
